{
  "states": [
    { "name": "GREETING", "entry": "If user greeting only â†’ reply briefly and move to CHIEF_COMPLAINT_CONFIRM.", "next": "CHIEF_COMPLAINT_CONFIRM" },

    { "name": "CHIEF_COMPLAINT_CONFIRM", "ask": "Are you experiencing chest pain or discomfort now or recently?", "capture": "confirm_chest_pain", "onYes": "CORE_HISTORY", "onNo": "END_OR_ROUTE" },

    { "name": "CORE_HISTORY", "ask_order": ["duration", "onset", "nature", "location", "radiation", "severity"], "next": "ASSOCIATED" },

    { "name": "ASSOCIATED", "ask_order": ["associated", "triggers", "relieving"], "next": "RISK_FACTORS" },

    { "name": "RISK_FACTORS", "ask_order": ["risk_factors", "age_group"], "next": "RED_FLAGS" },

    { "name": "RED_FLAGS", "evaluate": "redFlagRules", "next": "SUMMARY" },

    { "name": "SUMMARY", "action": "compose summary using summaryTemplate; decide triage & next_steps", "next": "END" },

    { "name": "END", "action": "return final message with done=true" }
  ]
}